

# Gstreamer tutorial


Elements go from source to sink.

## Elements
Creating element is with element factory, 
names in elements are unique and can be used to retrive them lateer

Before they can be used they should be  inside a pipeline, because it takes care of clocking and messaging functions

Elements comunicate through ports called Pads.

## Pads
Pads are used for comunication
- sink (entetry point)
- source (exit point)


## Bus 
Responsible  for delivering messagesgenerated by the elemetns
Messages can be extracted synch using function or async using signals

# Demuxer
Demuxer container one sink pad and multiple source pads (one for each stream)
Complexity is 



## Structure of video

---------- Containers ----------------------------------
Opening container using demuxer (MKV, QT, MOV, OGG, WMV, WMA)

----- Streams 1 ------ | ------- Stream 2 ---------- |


# Seek

Seek flags:
- SEEK_FLAG_FLUSH - discards all the data in pipleine before ding seek.
- SEEK_FLAG_KEY_UNIT - Move to the closest key frame
- SEEK_FLAG_ACCURATE - Estimate the posistion to seek to, othwerise it might be slow

# Buffer
Message travles through pads using buffers which are timestamp

# Build 
sudo mount -t tmpfs -o size=10G tmpfs /tmp/cargo

docker run --privileged --platform arm --rm -it  --network host  --mount type=bind,src=./,dst=/app -v /tmp/cargo:/root/.cargo/registry/index/  pibuilder /bin/bash

docker image build --platform arm  --file=./Dockerbuilder.arm -t pibuilder:arm .


## START COMMAND
 SHORT_CUT_PIPELINE=false WIDTH=640 HEIGHT=480 cargo run